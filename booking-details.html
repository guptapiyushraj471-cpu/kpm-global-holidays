<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Booking Details | KPM Global Holidays</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="View individual booking details for KPM Global Holidays." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@500;700&display=swap" rel="stylesheet">

  <style>
    .booking-layout {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 20px;
    }
    .booking-meta-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px 16px;
      font-size: 14px;
    }
    .meta-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #64748b;
      margin-bottom: 2px;
    }
    .meta-value {
      font-size: 14px;
      font-weight: 500;
    }
    .badge-booking {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      border: 1px solid rgba(148,163,184,0.55);
      background: rgba(15,23,42,0.03);
      color: #475569;
    }
    .pill-btn-main {
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: #fff;
      font-size: 13px;
      cursor: pointer;
    }
    .pill-btn-main:hover {
      border-color: rgba(15,23,42,0.3);
    }
    .pill-btn-main[disabled] {
      opacity: 0.6;
      cursor: not-allowed;
    }
    @media (max-width: 900px) {
      .booking-layout {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body class="theme-dark">
  <!-- Top utility bar -->
  <div class="top-bar" role="region" aria-label="Top utility">
    <div class="container top-bar-inner">
      <div class="top-left">
        <span class="top-pill">KPM Global Holidays</span>
        <span class="top-text">Booking details</span>
      </div>
      <div class="top-right">
        <button class="top-link" type="button" onclick="window.location.href='admin.html'">
          ← Back to admin
        </button>
        <button class="btn-outline small" type="button" onclick="window.location.href='index.html'">
          Website
        </button>
      </div>
    </div>
  </div>

  <!-- Main navigation -->
  <header class="site-header" role="banner">
    <div class="container nav-inner">
      <a class="logo" href="admin.html" aria-label="KPM Global Holidays Admin Home">
        KPM Global<span> Admin</span>
      </a>

      <nav class="nav-links" id="primaryNav" aria-label="Admin navigation">
        <a href="admin.html#packages-admin">Packages</a>
        <a href="admin.html#orders-admin">Orders</a>
        <a href="admin.html#stats-admin">Stats</a>
      </nav>

      <button class="btn-primary nav-cta" type="button" onclick="window.location.href='index.html'">
        Go to Website
      </button>

      <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="primaryNav">
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Booking details main -->
  <main class="section" aria-label="Booking details">
    <div class="container booking-layout">
      <!-- Left: main booking info -->
      <div class="glass">
        <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:14px;">
          <div>
            <p class="eyebrow">Booking</p>
            <h1 style="margin:4px 0 4px;" id="booking-title">
              Booking details
            </h1>
            <p class="hero-subtitle" id="booking-subtitle">
              Loading booking details...
            </p>
          </div>
          <span class="badge-booking">
            <span id="booking-id-label">#ID – …</span>
          </span>
        </div>

        <div class="booking-meta-grid" id="booking-meta">
          <div>
            <div class="meta-label">Package</div>
            <div class="meta-value" id="meta-package">–</div>
          </div>
          <div>
            <div class="meta-label">Destination</div>
            <div class="meta-value" id="meta-destination">–</div>
          </div>

          <div>
            <div class="meta-label">Traveler name</div>
            <div class="meta-value" id="meta-name">–</div>
          </div>
          <div>
            <div class="meta-label">Email</div>
            <div class="meta-value" id="meta-email">–</div>
          </div>

          <div>
            <div class="meta-label">Phone / WhatsApp</div>
            <div class="meta-value" id="meta-phone">–</div>
          </div>
          <div>
            <div class="meta-label">Travel dates</div>
            <div class="meta-value" id="meta-dates">–</div>
          </div>

          <div>
            <div class="meta-label">Guests</div>
            <div class="meta-value" id="meta-guests">–</div>
          </div>
          <div>
            <div class="meta-label">Created at</div>
            <div class="meta-value" id="meta-created">–</div>
          </div>
        </div>

        <div style="margin-top:18px;">
          <div class="meta-label">Special requests / preferences</div>
          <p id="meta-preferences" style="font-size:14px; line-height:1.5; margin-top:4px;">
            –
          </p>
        </div>
      </div>

      <!-- Right: quick actions -->
      <div class="glass">
        <h2 style="margin:0 0 10px;">Quick actions</h2>
        <p class="newsletter-note" style="margin-bottom:14px;">
          Use these buttons to contact the traveler directly from this page.
        </p>

        <div style="display:flex; flex-direction:column; gap:10px;">
          <button id="btn-whatsapp" class="pill-btn-main" type="button" disabled>
            WhatsApp traveler
          </button>
          <button id="btn-email" class="pill-btn-main" type="button" disabled>
            Send email
          </button>
        </div>

        <p id="actions-info" style="margin-top:14px; font-size:13px;"></p>
      </div>
    </div>
  </main>

  <!-- Back to top -->
  <button id="backToTop" class="back-to-top" aria-label="Back to top" title="Back to top">↑</button>

  <!-- Footer -->
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-grid">
      <div>
        <a class="logo footer-logo" href="index.html" aria-label="KPM Global Holidays Home">
          KPM Global<span> Holidays</span>
        </a>
        <p class="footer-text">
          Internal booking view for KPM Global Holidays. Demo only, not for real bookings.
        </p>
      </div>
      <div>
        <h4>Admin</h4>
        <ul>
          <li><a href="admin.html#orders-admin">Back to orders</a></li>
          <li><a href="admin.html#stats-admin">Stats</a></li>
        </ul>
      </div>
      <div>
        <h4>Website</h4>
        <ul>
          <li><a href="index.html#packages">Holiday packages</a></li>
          <li><a href="index.html#destinations">Destinations</a></li>
        </ul>
      </div>
      <div>
        <h4>Account</h4>
        <ul>
          <li><a href="login.html">Login</a></li>
        </ul>
      </div>
    </div>
    <div class="container footer-bottom">
      <span>© <span id="footerYear"></span> KPM Global Holidays. Admin panel.</span>
      <span>Made for learning & demo purposes.</span>
    </div>
  </footer>

  <!-- Supabase + booking-details script -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="booking-details.js"></script>
  <script src="script.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const yearSpan = document.getElementById("footerYear");
      if (yearSpan) yearSpan.textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>
